(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-87677c8e"],{2721:function(e,t,l){},2800:function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("div",{staticStyle:{"margin-bottom":"20px"},attrs:{id:"Button"}},[l("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("分配")]),l("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[l("div",[l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.account,(function(e){return l("el-option",{key:e.Account,attrs:{value:e.Account}})})),1)],1),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),l("el-button",{attrs:{type:"primary",plain:!0},on:{click:function(t){return e.send()}}},[e._v("确 定")])],1)])],1),l("el-tabs",{attrs:{type:"border-card"}},[l("el-tab-pane",{attrs:{label:"未派送订单"}},[l("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.dispatchedOrder,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[l("el-table-column",{attrs:{type:"selection",width:"55px"}}),l("el-table-column",{attrs:{prop:"OrderId",label:"订单号",sortable:""}}),l("el-table-column",{attrs:{prop:"address",label:"收货地址"}}),l("el-table-column",{attrs:{prop:"ExpressType",label:"快递公司"}}),l("el-table-column",{attrs:{prop:"PickCode",label:"收货码"}}),l("el-table-column",{attrs:{prop:"isroom",label:"是否送寝"}}),l("el-table-column",{attrs:{prop:"price",label:"配送价格"}})],1)],1),l("el-tab-pane",{attrs:{label:"查看已派送订单"}},[l("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.finishedList,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[l("el-table-column",{attrs:{type:"selection",width:"55px"}}),l("el-table-column",{attrs:{prop:"OrderId",label:"订单号",sortable:""}}),l("el-table-column",{attrs:{prop:"address",label:"收货地址"}}),l("el-table-column",{attrs:{prop:"ExpressType",label:"快递公司"}}),l("el-table-column",{attrs:{prop:"PickCode",label:"收货码"}}),l("el-table-column",{attrs:{prop:"isroom",label:"是否送寝"}}),l("el-table-column",{attrs:{prop:"price",label:"配送价格"}})],1)],1),l("el-tab-pane",{attrs:{label:"所有订单"}},[l("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark","default-sort":{prop:"OrderId",order:"descending"}},on:{"selection-change":e.handleSelectionChange}},[l("el-table-column",{attrs:{type:"selection",width:"55px"}}),l("el-table-column",{attrs:{prop:"OrderId",label:"订单号",sortable:""}}),l("el-table-column",{attrs:{prop:"address",label:"收货地址"}}),l("el-table-column",{attrs:{prop:"ExpressType",label:"快递公司"}}),l("el-table-column",{attrs:{prop:"PickCode",label:"收货码"}}),l("el-table-column",{attrs:{prop:"isroom",label:"是否送寝"}}),l("el-table-column",{attrs:{prop:"price",label:"配送价格"}})],1)],1)],1)],1)},r=[],n=l("1da1"),o=(l("96cf"),l("d81d"),l("159b"),{data:function(){return{tableData:[],dialogVisible:!1,multipleSelection:[],options:[],value:"",OrderList:[],dispatchedOrder:[],finishedList:[],account:[]}},created:function(){this.getdata(),this.getDeliverOrder(),this.getDeliverAccount()},methods:{handleSelectionChange:function(e){this.multipleSelection=e;var t=[];e.map((function(e){t.push(e.OrderId)})),this.OrderList=t,console.log(this.OrderList,123456)},toggleSelection:function(e){var t=this;console.log(e),e?e.forEach((function(e){t.$refs.multipleTable.toggleRowSelection(e)})):this.$refs.multipleTable.clearSelection()},handleClose:function(e){this.$confirm("确认关闭？").then((function(t){e()})).catch((function(e){}))},getdata:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$MainGet.get(e.$beseURl+"/getData/getAllOrder");case 2:t.sent;case 3:case"end":return t.stop()}}),t)})))()},getDeliverOrder:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var l,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$MainGet.get(e.$beseURl+"/getData/getNotAllocationDeliverOrder");case 2:if(l=t.sent,console.log(l,886),"-1"!=l.code){t.next=6;break}return t.abrupt("return");case 6:e.tableData=l.data,a=[],r=[],l.data.map((function(t){null==t.DeliverPhone?a.push(t):r.push(t),console.log(t.WhetherDeliver,1235),e.dispatchedOrder=a,e.finishedList=r,console.log(a,"---",r)}));case 10:case"end":return t.stop()}}),t)})))()},getDeliverAccount:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$MainGet.get(e.$beseURl+"/getData/getDeliverAccount");case 2:l=t.sent,e.account=l.data;case 4:case"end":return t.stop()}}),t)})))()},send:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var l,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:l=0;case 1:if(!(l<e.OrderList.length)){t.next=11;break}return a={OrderId:e.OrderList[l],DeliverPhone:e.value},t.next=5,e.$MainGet.post(e.$beseURl+"/SentData/AllocationDeliverOrder",a);case 5:r=t.sent,console.log("res的值为：",r),"0"==r.code?e.$message({message:"提交成功",type:"success"}):e.$message({showClose:!0,message:"提交失败",type:"error"});case 8:l++,t.next=1;break;case 11:e.dialogVisible=!1;case 12:case"end":return t.stop()}}),t)})))()}}}),s=o,i=(l("ec6f"),l("2877")),c=Object(i["a"])(s,a,r,!1,null,"1eca12c2",null);t["default"]=c.exports},ec6f:function(e,t,l){"use strict";l("2721")}}]);
//# sourceMappingURL=chunk-87677c8e.ff776fee.js.map